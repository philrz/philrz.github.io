<!doctype html>
<html class="docs-version-v1.2.0" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CV1VB9VF13"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-CV1VB9VF13",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Zed" href="/opensearch.xml">
<link rel="stylesheet" href="https://use.typekit.net/nll6rzm.css"><title data-rh="true">ZSON Specification | Zed</title><meta data-rh="true" property="og:image" content="https://zed.brimdata.io/img/zed-social-image.jpg"><meta data-rh="true" name="twitter:image" content="https://zed.brimdata.io/img/zed-social-image.jpg"><meta data-rh="true" property="og:url" content="https://zed.brimdata.io/docs/formats/zson/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_version" content="v1.2.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v1.2.0"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="v1.2.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v1.2.0"><meta data-rh="true" name="twitter:card" content="summary"><meta data-rh="true" name="twitter:site" content="@brimdata"><meta data-rh="true" name="twitter:image:alt" content="Zed Documentation Image"><meta data-rh="true" property="og:title" content="ZSON Specification | Zed"><meta data-rh="true" name="description" content="1. Introduction"><meta data-rh="true" property="og:description" content="1. Introduction"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://zed.brimdata.io/docs/formats/zson/"><link data-rh="true" rel="alternate" href="https://zed.brimdata.io/docs/formats/zson/" hreflang="en"><link data-rh="true" rel="alternate" href="https://zed.brimdata.io/docs/formats/zson/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://WZNIEWJ5O6-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.76c4b5d7.css">
<link rel="preload" href="/assets/js/runtime~main.fadd7801.js" as="script">
<link rel="preload" href="/assets/js/main.6d97c9ad.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/zed-logo.svg" alt="Zed Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/zed-logo.svg" alt="Zed Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Zed</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link" href="/docs/">v1.2.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/formats/zson/">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/formats/zson/">v1.2.0</a></li><li><a class="dropdown__link" href="/docs/v1.1.0/formats/zson/">v1.1.0</a></li></ul></div><a href="https://github.com/brimdata" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="Switch between dark and light mode (currently light mode)"></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/install/">Installation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/commands/">Commands</a><button aria-label="Toggle the collapsible sidebar category &#x27;Commands&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/tutorials/">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/language/">Language</a><button aria-label="Toggle the collapsible sidebar category &#x27;Language&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/docs/formats/">Formats</a><button aria-label="Toggle the collapsible sidebar category &#x27;Formats&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/formats/zed/">Data Model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/formats/zng/">ZNG</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/formats/zson/">ZSON</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/formats/zst/">ZST</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/formats/zjson/">ZJSON</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/formats/compression/">Compression</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/lake/api/">Lake</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs/libraries/">Libraries</a><button aria-label="Toggle the collapsible sidebar category &#x27;Libraries&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/">🏠</a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/docs/formats/">Formats</a></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/docs/formats/zson/">ZSON</a></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v1.2.0</span><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>ZSON Specification</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="1-introduction">1. Introduction<a class="hash-link" href="#1-introduction" title="Direct link to heading">​</a></h2><p>ZSON is the human-readable, text-based serialization format of
the super-structured <a href="/docs/formats/zed/">Zed data model</a>.</p><p>ZSON builds upon the elegant simplicity of JSON with &quot;type decorators&quot;.
Where the type of a value is not implied by its syntax, a parenthesized
type decorator is appended to the value thus establishing a well-defined
type for every value expressed in ZSON text.</p><p>ZSON is also a superset of JSON in that all JSON documents are valid ZSON values.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="2-the-zson-format">2. The ZSON Format<a class="hash-link" href="#2-the-zson-format" title="Direct link to heading">​</a></h2><p>A ZSON text is a sequence of UTF-8 characters organized either as a bounded input
or an unbounded stream.</p><p>The input text is organized as a sequence of one or more Zed values optionally
separated by and interspersed with whitespace.
Single-line (<code>//</code>) and multi-line (<code>/* ... */</code>) comments are
treated as whitespace and ignored.</p><p>All subsequent references to characters and strings in this section refer to
the Unicode code points that result when the stream is decoded.
If a ZSON input includes data that is not valid UTF-8, the input is invalid.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="21-names">2.1 Names<a class="hash-link" href="#21-names" title="Direct link to heading">​</a></h3><p>ZSON <em>names</em> encode record fields, enum symbols, and named types.
A name is either an <em>identifier</em> or a <a href="#231-strings">quoted string</a>.
Names are referred to as <code>&lt;name&gt;</code> below.</p><p>An <em>identifier</em> is case-sensitive and can contain Unicode letters, <code>$</code>, <code>_</code>,
and digits (0-9), but may not start with a digit.  An identifier cannot be
<code>true</code>, <code>false</code>, or <code>null</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="22-type-decorators">2.2 Type Decorators<a class="hash-link" href="#22-type-decorators" title="Direct link to heading">​</a></h3><p>A value may be explicitly typed by tagging it with a type decorator.
The syntax for a decorator is a parenthesized type:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;value&gt; ( &lt;type&gt; )</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>For union values, multiple decorators might be
required to distinguish the union-member type from the possible set of
union types when there is ambiguity, as in</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">123 (float64) (int64,float64)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>In contrast, this union value is unambiguous:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">123.0 (int64,float64)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>The syntax of a union value decorator is</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;value&gt; ( &lt;type&gt; ) [ ( &lt;type&gt; ) ...]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>where the rightmost type must be a union type if more than one decorator
is present.</p><p>A decorator may also define a <a href="#258-named-type">named type</a>:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;value&gt; ( =&lt;name&gt; )</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>which declares a new type with the indicated type name using the
implied type of the value.</p><p>It is an error for the decorator to be type incompatible with its referenced value.  </p><p>Note that the <code>=</code> sigil here disambiguates between the case that a new
type is defined, which may override a previous definition of a different type with the
same name, from the case that an existing named type is merely decorating the value.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="23-primitive-values">2.3 Primitive Values<a class="hash-link" href="#23-primitive-values" title="Direct link to heading">​</a></h3><p>The type names and format for
<a href="/docs/formats/zed/#1-primitive-types">Zed primitive</a> values is as follows:</p><table><thead><tr><th>Type</th><th>Value Format</th></tr></thead><tbody><tr><td><code>uint8</code></td><td>decimal string representation of any unsigned, 8-bit integer</td></tr><tr><td><code>uint16</code></td><td>decimal string representation of any unsigned, 16-bit integer</td></tr><tr><td><code>uint32</code></td><td>decimal string representation of any unsigned, 32-bit integer</td></tr><tr><td><code>uint64</code></td><td>decimal string representation of any unsigned, 64-bit integer</td></tr><tr><td><code>uint128</code></td><td>decimal string representation of any unsigned, 128-bit integer</td></tr><tr><td><code>uint256</code></td><td>decimal string representation of any unsigned, 256-bit integer</td></tr><tr><td><code>int8</code></td><td>decimal string representation of any signed, 8-bit integer</td></tr><tr><td><code>int16</code></td><td>decimal string representation of any signed, 16-bit integer</td></tr><tr><td><code>int32</code></td><td>decimal string representation of any signed, 32-bit integer</td></tr><tr><td><code>int64</code></td><td>decimal string representation of any signed, 64-bit integer</td></tr><tr><td><code>int128</code></td><td>decimal string representation of any signed, 128-bit integer</td></tr><tr><td><code>int256</code></td><td>decimal string representation of any signed, 256-bit integer</td></tr><tr><td><code>duration</code></td><td>a <em>duration string</em> representing signed 64-bit nanoseconds</td></tr><tr><td><code>time</code></td><td>an RFC 3339 UTC date/time string representing signed 64-bit nanoseconds from epoch</td></tr><tr><td><code>float16</code></td><td>a <em>non-integer string</em> representing an IEEE-754 binary16 value</td></tr><tr><td><code>float32</code></td><td>a <em>non-integer string</em> representing an IEEE-754 binary32 value</td></tr><tr><td><code>float64</code></td><td>a <em>non-integer string</em> representing an IEEE-754 binary64 value</td></tr><tr><td><code>float128</code></td><td>a <em>non-integer string</em> representing an IEEE-754 binary128 value</td></tr><tr><td><code>float256</code></td><td>a <em>non-integer string</em> representing an IEEE-754 binary256 value</td></tr><tr><td><code>decimal32</code></td><td>a <em>non-integer string</em> representing an IEEE-754 decimal32 value</td></tr><tr><td><code>decimal64</code></td><td>a <em>non-integer string</em> representing an IEEE-754 decimal64 value</td></tr><tr><td><code>decimal128</code></td><td>a <em>non-integer string</em> representing an IEEE-754 decimal128 value</td></tr><tr><td><code>decimal256</code></td><td>a <em>non-integer string</em> representing an IEEE-754 decimal256 value</td></tr><tr><td><code>bool</code></td><td>the string <code>true</code> or <code>false</code></td></tr><tr><td><code>bytes</code></td><td>a sequence of bytes encoded as a hexadecimal string prefixed with <code>0x</code></td></tr><tr><td><code>string</code></td><td>a double-quoted or backtick-quoted UTF-8 string</td></tr><tr><td><code>ip</code></td><td>a string representing an IP address in <a href="https://tools.ietf.org/html/draft-main-ipaddr-text-rep-02#section-3" target="_blank" rel="noopener noreferrer">IPv4 or IPv6 format</a></td></tr><tr><td><code>net</code></td><td>a string in CIDR notation representing an IP address and prefix length as defined in RFC 4632 and RFC 4291.</td></tr><tr><td><code>type</code></td><td>a string in canonical form as described in <a href="#25-types">Section 2.5</a></td></tr><tr><td><code>null</code></td><td>the string <code>null</code></td></tr></tbody></table><p>The format of a <em>duration string</em>
is an optionally-signed concatenation of decimal numbers,
each with optional fraction and a unit suffix,
such as &quot;300ms&quot;, &quot;-1.5h&quot; or &quot;2h45m&quot;, representing a 64-bit nanosecond value.
Valid time units are
&quot;ns&quot; (nanosecond),
&quot;us&quot; (microsecond),
&quot;ms&quot; (millisecond),
&quot;s&quot; (second),
&quot;m&quot; (minute),
&quot;h&quot; (hour),
&quot;d&quot; (day),
&quot;w&quot; (7 days), and
&quot;y&quot; (365 days).
Note that each of these time units accurately represents its calendar value,
except for the &quot;y&quot; unit, which does not reflect leap years and so forth.
Instead, &quot;y&quot; is defined as the number of nanoseconds in 365 days.</p><p>The format of floating point values is a <em>non-integer string</em>
conforming to any floating point representation that cannot be
interpreted as an integer, e.g., <code>1.</code> or <code>1.0</code> instead of
<code>1</code> or <code>1e3</code> instead of <code>1000</code>.  Unlike JSON, a floating point number can
also be one of:
<code>Inf</code>, <code>+Inf</code>, <code>-Inf</code>, or <code>Nan</code>.</p><p>A floating point value may be expressed with an integer string provided
a type decorator is applied, e.g., <code>123 (float64)</code>.</p><p>Decimal values require type decorators.</p><p>A string may be backtick-quoted with the backtick character <code>`</code>.
None of the text between backticks is escaped, but by default, any newlines
followed by whitespace are converted to a single newline and the first
newline of the string is deleted.  To avoid this automatic deletion and
preserve indentation, the backtick-quoted string can be preceded with <code>=&gt;</code>.</p><p>Of the 30 primitive types, eleven of them represent <em>implied-type</em> values:
<code>int64</code>, <code>time</code>, <code>duration</code>, <code>float64</code>, <code>bool</code>, <code>bytes</code>, <code>string</code>, <code>ip</code>, <code>net</code>, <code>type</code>, and <code>null</code>.
Values for these types are determined by the format of the value and
thus do not need decorators to clarify the underlying type, e.g.,</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">123 (int64)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>is the same as <code>123</code>.</p><p>Values that do not have implied types must include a type decorator to clarify
its type or appear in a context for which its type is defined (i.e., as a field
value in a record, as an element in an array, etc.).</p><p>While a <code>type</code> value may represent a complex type, the value itself is a singleton
and thus always a primitive type.  A <code>type</code> value is encoded as:</p><ul><li>a left angle bracket <code>&lt;</code>, followed by</li><li>a type as <a href="#25-types">encoded below</a>, followed by</li><li>a right angle bracket <code>&gt;</code>.</li></ul><p>A <code>time</code> value corresponds to 64-bit Unix epoch nanoseconds and thus
not all possible RFC 3339 date/time strings are valid.  In addition,
nanosecond epoch times overflow on April 11, 2262.
For the world of 2262, a new epoch can be created well in advance
and the old time epoch and new time epoch can live side by side with
the old using a named type for the new epoch time defined as the old <code>time</code> type.
An app that requires more than 64 bits of timestamp precision can always use
a typedef of a <code>bytes</code> type and do its own conversions to and from the
corresponding <code>bytes</code> values.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="231-strings">2.3.1 Strings<a class="hash-link" href="#231-strings" title="Direct link to heading">​</a></h4><p>Double-quoted <code>string</code> syntax is the same as that of JSON as described
in <a href="https://tools.ietf.org/html/rfc8259#section-7" target="_blank" rel="noopener noreferrer">RFC 8259</a>.  Notably,
the following escape sequences are recognized:</p><table><thead><tr><th>Sequence</th><th>Unicode Character</th></tr></thead><tbody><tr><td><code>\&quot;</code></td><td>quotation mark  U+0022</td></tr><tr><td><code>\\</code></td><td>reverse solidus U+005C</td></tr><tr><td><code>\/</code></td><td>solidus         U+002F</td></tr><tr><td><code>\b</code></td><td>backspace       U+0008</td></tr><tr><td><code>\f</code></td><td>form feed       U+000C</td></tr><tr><td><code>\n</code></td><td>line feed       U+000A</td></tr><tr><td><code>\r</code></td><td>carriage return U+000D</td></tr><tr><td><code>\t</code></td><td>tab             U+0009</td></tr><tr><td><code>\uXXXX</code></td><td>U+XXXX</td></tr></tbody></table><p>In <code>\uXXXX</code> sequences, each <code>X</code> is a hexadecimal digit, and letter
digits may be uppercase or lowercase.</p><p>The behavior of an implementation that encounters an unrecognized escape
sequence in a <code>string</code> type is undefined.</p><p><code>\u</code> followed by anything that does not conform to the above syntax
is not a valid escape sequence.  The behavior of an implementation
that encounters such invalid sequences in a <code>string</code> type is undefined.</p><p>These escaping rules apply also to quoted field names in record values and
record types as well as enum symbols.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="24-complex-values">2.4 Complex Values<a class="hash-link" href="#24-complex-values" title="Direct link to heading">​</a></h3><p>Complex values are built from primitive values and/or other complex values
and conform to the Zed data model&#x27;s complex types:
<a href="/docs/formats/zed/#21-record">record</a>,
<a href="/docs/formats/zed/#22-array">array</a>,
<a href="/docs/formats/zed/#23-set">set</a>,
<a href="/docs/formats/zed/#24-map">map</a>,
<a href="/docs/formats/zed/#25-union">union</a>,
<a href="/docs/formats/zed/#26-enum">enum</a>, and
<a href="/docs/formats/zed/#27-error">error</a>.</p><p>Complex values have an implied type when their constituent values all have
implied types.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="241-record-value">2.4.1 Record Value<a class="hash-link" href="#241-record-value" title="Direct link to heading">​</a></h4><p>A record value has the form:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{ &lt;name&gt; : &lt;value&gt;, &lt;name&gt; : &lt;value&gt;, ... }</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>where <code>&lt;name&gt;</code> is a <a href="#21-names">ZSON name</a> and <code>&lt;value&gt;</code> is
any optionally-decorated ZSON value inclusive of other records.
Each name/value pair is called a <em>field</em>.
There may be zero or more fields.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="242-array-value">2.4.2 Array Value<a class="hash-link" href="#242-array-value" title="Direct link to heading">​</a></h4><p>An array value has the form:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">[ &lt;value&gt;, &lt;value&gt;, ... ]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>If the elements of the array are not of uniform type, then the implied type of
the array elements is a union of the types present.</p><p>An array value may be empty.  An empty array value without a type decorator is
presumed to be an empty array of type <code>null</code>.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="243-set-value">2.4.3 Set Value<a class="hash-link" href="#243-set-value" title="Direct link to heading">​</a></h4><p>A set value has the form:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">|[ &lt;value&gt;, &lt;value&gt;, ... ]|</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>where the indicated values must be distinct.</p><p>If the elements of the set are not of uniform type, then the implied type of
the set elements is a union of the types present.</p><p>A set value may be empty.  An empty set value without a type decorator is
presumed to be an empty set of type <code>null</code>.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="244-map-value">2.4.4 Map Value<a class="hash-link" href="#244-map-value" title="Direct link to heading">​</a></h4><p>A map value has the form:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">|{ &lt;key&gt; : &lt;value&gt;, &lt;key&gt; : &lt;value&gt;, ... }|</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>where zero or more comma-separated, key/value pairs are present.</p><p>Whitespace around keys and values is generally optional, but to
avoid ambiguity, whitespace must separate an IPv6 key from the colon
that follows it.</p><p>An empty map value without a type decorator is
presumed to be an empty map of type <code>|{null: null}|</code>.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="245-union-value">2.4.5 Union Value<a class="hash-link" href="#245-union-value" title="Direct link to heading">​</a></h4><p>A union value is a value that conforms to one of the types within a union type.
If the value appears in a context in which the type is unknown or ambiguous,
then the value must be decorated as <a href="#22-type-decorators">described above</a>.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="246-enum-value">2.4.6 Enum Value<a class="hash-link" href="#246-enum-value" title="Direct link to heading">​</a></h4><p>An enum type represents a symbol from a finite set of symbols
referenced by name.</p><p>An enum value is indicated with the sigil <code>%</code> and has the form</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">%&lt;name&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>where the <code>&lt;name&gt;</code> is <a href="#21-names">ZSON name</a>.</p><p>An enum value must appear in a context where the enum type is known, i.e.,
with an explicit enum type decorator or within a complex type where the
contained enum type is defined by the complex type&#x27;s decorator.</p><p>A sequence of enum values might look like this:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">%HEADS (flip=(enum(HEADS,TAILS)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">%TAILS (flip)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">%HEADS (flip)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="247-error-value">2.4.7 Error Value<a class="hash-link" href="#247-error-value" title="Direct link to heading">​</a></h4><p>An error value has the form:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">error(&lt;value&gt;)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>where <code>&lt;value&gt;</code> is any ZSON value.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="25-types">2.5 Types<a class="hash-link" href="#25-types" title="Direct link to heading">​</a></h3><p>A primitive type is simply the name of the primitive type, i.e., <code>string</code>,
<code>uint16</code>, etc.  Complex types are defined as follows.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="251-record-type">2.5.1 Record Type<a class="hash-link" href="#251-record-type" title="Direct link to heading">​</a></h4><p>A <em>record type</em> has the form:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{ &lt;name&gt; : &lt;type&gt;, &lt;name&gt; : &lt;type&gt;, ... }</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>where <code>&lt;name&gt;</code> is a <a href="#21-names">ZSON name</a> and
<code>&lt;type&gt;</code> is any type.</p><p>The order of the record fields is significant,
e.g., type <code>{a:int32,b:int32}</code> is distinct from type <code>{b:int32,a:int32}</code>.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="252-array-type">2.5.2 Array Type<a class="hash-link" href="#252-array-type" title="Direct link to heading">​</a></h4><p>An <em>array type</em> has the form:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">[ &lt;type&gt; ]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="253-set-type">2.5.3 Set Type<a class="hash-link" href="#253-set-type" title="Direct link to heading">​</a></h4><p>A <em>set type</em> has the form:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">|[ &lt;type&gt; ]|</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="254-map-type">2.5.4 Map Type<a class="hash-link" href="#254-map-type" title="Direct link to heading">​</a></h4><p>A <em>map type</em> has the form:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">|{ &lt;key-type&gt;: &lt;value-type&gt; }|</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>where <code>&lt;key-type&gt;</code> is the type of the keys and <code>&lt;value-type&gt;</code> is the
type of the values.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="255-union-type">2.5.5 Union Type<a class="hash-link" href="#255-union-type" title="Direct link to heading">​</a></h4><p>A <em>union type</em> has the form:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">( &lt;type&gt;, &lt;type&gt;, ... )</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>where there are at least two types in the list.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="256-enum-type">2.5.6 Enum Type<a class="hash-link" href="#256-enum-type" title="Direct link to heading">​</a></h4><p>An <em>enum type</em> has the form:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">enum( &lt;name&gt;, &lt;name&gt;, ... )</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>where <code>&lt;name&gt;</code> is a <a href="#21-names">ZSON name</a>.
Each enum name must be unique and the order is not significant, e.g.,
enum type <code>enum(HEADS,TAILS)</code> is equal to type <code>enum(TAILS,HEADS)</code>.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="257-error-type">2.5.7 Error Type<a class="hash-link" href="#257-error-type" title="Direct link to heading">​</a></h4><p>An <em>error type</em> has the form:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">error( &lt;type&gt; )</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>where <code>&lt;type&gt;</code> is the type of the underlying ZSON values wrapped as an error.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="258-named-type">2.5.8 Named Type<a class="hash-link" href="#258-named-type" title="Direct link to heading">​</a></h4><p>A named type has the form:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;name&gt; = ( &lt;type&gt; )</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>where a new type is defined with the given name and type.</p><p>When a named type appears in a complex value, the new type name may be
referenced by any subsequent value in left-to-right depth-first order.</p><p>For example,</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{p1:80 (port=(uint16)), p2: 8080 (port)}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>is valid but</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{p1:80 port, p2: 8080 (port=(uint16))}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>is invalid.</p><p>Named types may be redefined, in which case subsequent references
resolve to the most recent definition according to</p><ul><li>sequence order across values, or</li><li>left-to-right depth-first order within a complex value.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="26-null-value">2.6 Null Value<a class="hash-link" href="#26-null-value" title="Direct link to heading">​</a></h3><p>The null value is represented by the string <code>null</code>.</p><p>A value of any type can be null.  It is up to an
implementation to decide how external data structures map into and
out of null values of different types.  Typically, a null value means either the
zero value or, in the case of record fields, an optional field whose
value is not present, though these semantics are not explicitly
defined by ZSON.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="3-examples">3. Examples<a class="hash-link" href="#3-examples" title="Direct link to heading">​</a></h2><p>The simplest ZSON value is a single value, perhaps a string like this:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;hello, world&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>There&#x27;s no need for a type declaration here.  It&#x27;s explicitly a string.</p><p>A relational table might look like this:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{ city: &quot;Berkeley&quot;, state: &quot;CA&quot;, population: 121643 (uint32) } (=city_schema)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{ city: &quot;Broad Cove&quot;, state: &quot;ME&quot;, population: 806 (uint32) } (=city_schema)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{ city: &quot;Baton Rouge&quot;, state: &quot;LA&quot;, population: 221599 (uint32) } (=city_schema)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This ZSON text here depicts three record values.  It defines a type called <code>city_schema</code>
and the inferred type of the <code>city_schema</code> has the signature:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{ city:string, state:string, population:uint32 }</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>When all the values in a sequence have the same record type, the sequence
can be interpreted as a <em>table</em>, where the ZSON record values form the <em>rows</em>
and the fields of the records form the <em>columns</em>.  In this way, these
three records form a relational table conforming to the schema <code>city_schema</code>.</p><p>In contrast, a ZSON text representing a semi-structured sequence of log lines
might look like this:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    info: &quot;Connection Example&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    src: { addr: 10.1.1.2, port: 80 (uint16) } (=socket),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dst: { addr: 10.0.1.2, port: 20130 (uint16) } (=socket)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} (=conn)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    info: &quot;Connection Example 2&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    src: { addr: 10.1.1.8, port: 80 (uint16) } (=socket),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dst: { addr: 10.1.2.88, port: 19801 (uint16) } (=socket)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} (=conn)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    info: &quot;Access List Example&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    nets: [ 10.1.1.0/24, 10.1.2.0/24 ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} (=access_list)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{ metric: &quot;A&quot;, ts: 2020-11-24T08:44:09.586441-08:00, value: 120 }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{ metric: &quot;B&quot;, ts: 2020-11-24T08:44:20.726057-08:00, value: 0.86 }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{ metric: &quot;A&quot;, ts: 2020-11-24T08:44:32.201458-08:00, value: 126 }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{ metric: &quot;C&quot;, ts: 2020-11-24T08:44:43.547506-08:00, value: { x:10, y:101 } }</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>In this case, the first record defines not just a record type
with named type <code>conn</code>, but also a second embedded record type called <code>socket</code>.
The parenthesized decorators are used where a type is not inferred from
the value itself:</p><ul><li><code>socket</code> is a record with typed fields <code>addr</code> and <code>port</code> where <code>port</code> is an unsigned 16-bit integer, and</li><li><code>conn</code> is a record with typed fields <code>info</code>, <code>src</code>, and <code>dst</code>.</li></ul><p>The subsequent value defines a type called <code>access_list</code>.  In this case,
the <code>nets</code> field is an array of networks and illustrates the helpful range of
primitive types in ZSON.  Note that the syntax here implies
the type of the array, as it is inferred from the type of the elements.</p><p>Finally, there are four more values that show ZSON&#x27;s efficacy for
representing metrics.  Here, there are no type decorators as all of the field
types are implied by their syntax, and hence, the top-level record type is implied.
For instance, the <code>ts</code> field is an RFC 3339 date and time string,
unambiguously the primitive type <code>time</code>.  Further,
note that the <code>value</code> field takes on different types and even a complex record
type on the last line.  In this case, there is a different top-level
record type implied by each of the three variations of type of the <code>value</code> field.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="4-grammar">4. Grammar<a class="hash-link" href="#4-grammar" title="Direct link to heading">​</a></h2><p>Here is a left-recursive pseudo-grammar of ZSON.  Note that not all
acceptable inputs are semantically valid as type mismatches may arise.
For example, union and enum values must both appear in a context
that defines their type.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;zson&gt; = &lt;zson&gt; &lt;eos&gt; &lt;dec-value&gt; | &lt;zson&gt; &lt;dec-value&gt; | &lt;dec-value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;eos&gt; = .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;value&gt; = &lt;any&gt; | &lt;any&gt; &lt;val-typedef&gt; | &lt;any&gt; &lt;decorators&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;val-typedef&gt; = &quot;(&quot; &quot;=&quot; &lt;name&gt; &quot;)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;decorators&gt; = &quot;(&quot; &lt;type&gt; &quot;)&quot; | &lt;decorators&gt; &quot;(&quot; &lt;type&gt; &quot;)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;any&gt; = &lt;primitive&gt; | &lt;type-val&gt; | &lt;record&gt; | &lt;array&gt; | &lt;set&gt; | &lt;map&gt; | &lt;enum&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;primitive&gt; = primitive value as defined above</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;record&gt; = &quot;{&quot; &lt;flist&gt; &quot;}&quot;  |  &quot;{&quot;  &quot;}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;flist&gt; = &lt;flist&gt; &quot;,&quot; &lt;field&gt; | &lt;field&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;field&gt; = &lt;name&gt; &quot;:&quot; &lt;value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;name&gt; = &lt;identifier&gt; | &lt;quoted-string&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;quoted-string&gt; = quoted string as defined above</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;identifier&gt; = as defined above</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;array&gt; = &quot;[&quot; &lt;vlist&gt; &quot;]&quot;  |  &quot;[&quot;  &quot;]&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;vlist&gt; = &lt;vlist&gt; &quot;,&quot; &lt;value&gt; | &lt;value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;set&gt; = &quot;|[&quot; &lt;vlist&gt; &quot;]|&quot;  |  &quot;|[&quot;  &quot;]|&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;enum&gt; = &quot;%&quot; ( &lt;name&gt; | &lt;quoted-string&gt; )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;map&gt; = &quot;|{&quot; &lt;mlist&gt; &quot;}|&quot;  |  &quot;|{&quot;  &quot;}|&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;mlist&gt; = &lt;mvalue&gt; | &lt;mlist&gt; &quot;,&quot; &lt;mvalue&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;mvalue&gt; = &lt;value&gt; &quot;:&quot; &lt;value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;type-value&gt; = &quot;&lt;&quot; &lt;type&gt; &quot;&gt;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;error-value&gt; = &quot;error(&quot; &lt;value&gt; &quot;)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;type&gt; = &lt;primitive-type&gt; | &lt;record-type&gt; | &lt;array-type&gt; | &lt;set-type&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;union-type&gt; | &lt;enum-type&gt; | &lt;map-type&gt; |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;type-def&gt; | &lt;name&gt; | &lt;error-type&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;primitive-type&gt; = uint8 | uint16 | etc. as defined above</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;record-type&gt; = &quot;{&quot; &lt;tflist&gt; &quot;}&quot;  |  &quot;{&quot; &quot;}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;tflist&gt; = &lt;tflist&gt; &quot;,&quot; &lt;tfield&gt; | &lt;tfield&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;tfield&gt; = &lt;name&gt; &quot;:&quot; &lt;type&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;array-type&gt; = &quot;[&quot; &lt;type&gt; &quot;]&quot;  |  &quot;[&quot; &quot;]&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;set-type&gt; = &quot;|[&quot; &lt;type&gt; &quot;]|&quot;  |  &quot;|[&quot; &quot;]|&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;union-type&gt; = &quot;(&quot; &lt;type&gt; &quot;,&quot; &lt;tlist&gt; &quot;)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;tlist&gt; = &lt;tlist&gt; &quot;,&quot; &lt;type&gt; | &lt;type&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;enum-type&gt; = &quot;enum(&quot; &lt;nlist&gt; &quot;)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;nlist&gt; = &lt;nlist&gt; &quot;,&quot; &lt;name&gt; | &lt;name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;map-type&gt; = &quot;{&quot; &lt;type&gt; &quot;,&quot; &lt;type&gt; &quot;}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;type-def&gt; = &lt;identifier&gt; = &lt;type-type&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;name&gt; = as defined above</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;error-type&gt; = &quot;error(&quot; &lt;type&gt; &quot;)&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/brimdata/zed/tree/main/versioned_docs/version-v1.2.0/formats/zson.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/formats/zng/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ZNG</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/formats/zst/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ZST</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-introduction" class="table-of-contents__link toc-highlight">1. Introduction</a></li><li><a href="#2-the-zson-format" class="table-of-contents__link toc-highlight">2. The ZSON Format</a><ul><li><a href="#21-names" class="table-of-contents__link toc-highlight">2.1 Names</a></li><li><a href="#22-type-decorators" class="table-of-contents__link toc-highlight">2.2 Type Decorators</a></li><li><a href="#23-primitive-values" class="table-of-contents__link toc-highlight">2.3 Primitive Values</a></li><li><a href="#24-complex-values" class="table-of-contents__link toc-highlight">2.4 Complex Values</a></li><li><a href="#25-types" class="table-of-contents__link toc-highlight">2.5 Types</a></li><li><a href="#26-null-value" class="table-of-contents__link toc-highlight">2.6 Null Value</a></li></ul></li><li><a href="#3-examples" class="table-of-contents__link toc-highlight">3. Examples</a></li><li><a href="#4-grammar" class="table-of-contents__link toc-highlight">4. Grammar</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://www.brimdata.io/join-slack/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/brimdata" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://www.brimdata.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Brim Data, Inc.<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/brimdata" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Brim Data, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.fadd7801.js"></script>
<script src="/assets/js/main.6d97c9ad.js"></script>
</body>
</html>